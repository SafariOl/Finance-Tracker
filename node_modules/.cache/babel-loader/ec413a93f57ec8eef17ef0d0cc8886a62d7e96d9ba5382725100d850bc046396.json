{"ast":null,"code":"var currencies = require('./libs/currencies.js');\nmodule.exports.verifyInput = function (convertFrom, convertTo, amount) {\n  var checkAmount = true;\n  var checkCurrency = currencies.hasOwnProperty(convertFrom) && currencies.hasOwnProperty(convertTo);\n  if (amount) {\n    checkAmount = !isNaN(amount);\n  }\n  return checkAmount && checkCurrency;\n};\n\n// Kudos to: http://stackoverflow.com/a/19722641 \nmodule.exports.round = function (num) {\n  return +(Math.round(num + \"e+2\") + \"e-2\");\n};\nmodule.exports.read = function (localRates, convertFrom, convertTo) {\n  var results = {};\n  localRates = localRates.split('\\n');\n  for (var i = 0; i < localRates.length; i++) {\n    if (results[convertFrom] && results[convertTo]) {\n      return [results[convertFrom], results[convertTo]];\n    }\n    var temp = localRates[i].split('=');\n    var currency = temp[0];\n    temp = temp[1].split(' ');\n    var symbol = temp[0];\n    var rate = temp[1];\n    results[currency] = {\n      'symbol': symbol,\n      'rate': rate\n    };\n  }\n};\nmodule.exports.write = function (liveRates) {\n  var ratesTxt = '';\n  for (var currency in liveRates) {\n    if (currencies.hasOwnProperty(currency)) {\n      var symbol = currencies[currency][\"symbol_native\"];\n      var rate = module.exports.round(liveRates[currency]);\n      ratesTxt += currency + '=' + symbol + ' ' + rate + '\\n';\n    }\n  }\n  return ratesTxt.slice(0, -1);\n};\nmodule.exports.formatConversion = function (options, rates) {\n  var convertedRate = options.amount / rates[0]['rate'] * rates[1]['rate'];\n  return {\n    'currency': options.convertTo,\n    'symbol': rates[1].symbol,\n    'amount': module.exports.round(convertedRate)\n  };\n};\nmodule.exports.formatConversionRate = function (options, rates) {\n  return module.exports.round(1 / rates[0]['rate'] * rates[1]['rate']);\n};","map":{"version":3,"names":["currencies","require","module","exports","verifyInput","convertFrom","convertTo","amount","checkAmount","checkCurrency","hasOwnProperty","isNaN","round","num","Math","read","localRates","results","split","i","length","temp","currency","symbol","rate","write","liveRates","ratesTxt","slice","formatConversion","options","rates","convertedRate","formatConversionRate"],"sources":["C:/Users/yurii/OneDrive/Pulpit/site-anim/node_modules/currency-converter/app/openExchangeRateUtils.js"],"sourcesContent":["var currencies = require('./libs/currencies.js');\n\nmodule.exports.verifyInput = function (convertFrom, convertTo, amount) {\n  var checkAmount   = true;\n  var checkCurrency = currencies.hasOwnProperty(convertFrom) && \n                      currencies.hasOwnProperty(convertTo);\n\n  if (amount) { checkAmount = !isNaN(amount); }\n\n  return checkAmount && checkCurrency;\n};\n\n// Kudos to: http://stackoverflow.com/a/19722641 \nmodule.exports.round = function(num) {\n  return +(Math.round(num + \"e+2\")  + \"e-2\");\n};\n\nmodule.exports.read = function (localRates, convertFrom, convertTo) {\n  var results = {};\n  localRates  = localRates.split('\\n');\n\n  for (var i = 0 ; i < localRates.length; i ++) {\n    if (results[convertFrom] && results[convertTo]) {\n      return [ results[convertFrom], results[convertTo] ];\n    }\n\n    var temp      = localRates[i].split('=');\n    var currency  = temp[0];\n    temp          = temp[1].split(' ');\n    var symbol    = temp[0];\n    var rate      = temp[1];\n    results[currency] = { 'symbol' : symbol, 'rate' : rate };\n  }\n};\n\nmodule.exports.write = function (liveRates) {\n  var ratesTxt = '';\n  \n  for (var currency in liveRates) {\n    if (currencies.hasOwnProperty(currency)) {\n      var symbol = currencies[currency][\"symbol_native\"];\n      var rate   = module.exports.round(liveRates[currency]);\n      ratesTxt += currency + '=' + symbol + ' ' + rate + '\\n'      \n    }\n  }\n\n  return ratesTxt.slice(0, -1);\n};\n\n\nmodule.exports.formatConversion = function (options, rates) {\n  var convertedRate = (options.amount / rates[0]['rate']) * rates[1]['rate'];\n  return {\n    'currency'  : options.convertTo,\n    'symbol'    : rates[1].symbol,\n    'amount'    : module.exports.round(convertedRate) };\n };\n\n module.exports.formatConversionRate = function (options, rates) {\n  return module.exports.round( ((1/rates[0]['rate']) * rates[1]['rate']) );\n };"],"mappings":"AAAA,IAAIA,UAAU,GAAGC,OAAO,CAAC,sBAAsB,CAAC;AAEhDC,MAAM,CAACC,OAAO,CAACC,WAAW,GAAG,UAAUC,WAAW,EAAEC,SAAS,EAAEC,MAAM,EAAE;EACrE,IAAIC,WAAW,GAAK,IAAI;EACxB,IAAIC,aAAa,GAAGT,UAAU,CAACU,cAAc,CAACL,WAAW,CAAC,IACtCL,UAAU,CAACU,cAAc,CAACJ,SAAS,CAAC;EAExD,IAAIC,MAAM,EAAE;IAAEC,WAAW,GAAG,CAACG,KAAK,CAACJ,MAAM,CAAC;EAAE;EAE5C,OAAOC,WAAW,IAAIC,aAAa;AACrC,CAAC;;AAED;AACAP,MAAM,CAACC,OAAO,CAACS,KAAK,GAAG,UAASC,GAAG,EAAE;EACnC,OAAO,EAAEC,IAAI,CAACF,KAAK,CAACC,GAAG,GAAG,KAAK,CAAC,GAAI,KAAK,CAAC;AAC5C,CAAC;AAEDX,MAAM,CAACC,OAAO,CAACY,IAAI,GAAG,UAAUC,UAAU,EAAEX,WAAW,EAAEC,SAAS,EAAE;EAClE,IAAIW,OAAO,GAAG,CAAC,CAAC;EAChBD,UAAU,GAAIA,UAAU,CAACE,KAAK,CAAC,IAAI,CAAC;EAEpC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAGA,CAAC,GAAGH,UAAU,CAACI,MAAM,EAAED,CAAC,EAAG,EAAE;IAC5C,IAAIF,OAAO,CAACZ,WAAW,CAAC,IAAIY,OAAO,CAACX,SAAS,CAAC,EAAE;MAC9C,OAAO,CAAEW,OAAO,CAACZ,WAAW,CAAC,EAAEY,OAAO,CAACX,SAAS,CAAC,CAAE;IACrD;IAEA,IAAIe,IAAI,GAAQL,UAAU,CAACG,CAAC,CAAC,CAACD,KAAK,CAAC,GAAG,CAAC;IACxC,IAAII,QAAQ,GAAID,IAAI,CAAC,CAAC,CAAC;IACvBA,IAAI,GAAYA,IAAI,CAAC,CAAC,CAAC,CAACH,KAAK,CAAC,GAAG,CAAC;IAClC,IAAIK,MAAM,GAAMF,IAAI,CAAC,CAAC,CAAC;IACvB,IAAIG,IAAI,GAAQH,IAAI,CAAC,CAAC,CAAC;IACvBJ,OAAO,CAACK,QAAQ,CAAC,GAAG;MAAE,QAAQ,EAAGC,MAAM;MAAE,MAAM,EAAGC;IAAK,CAAC;EAC1D;AACF,CAAC;AAEDtB,MAAM,CAACC,OAAO,CAACsB,KAAK,GAAG,UAAUC,SAAS,EAAE;EAC1C,IAAIC,QAAQ,GAAG,EAAE;EAEjB,KAAK,IAAIL,QAAQ,IAAII,SAAS,EAAE;IAC9B,IAAI1B,UAAU,CAACU,cAAc,CAACY,QAAQ,CAAC,EAAE;MACvC,IAAIC,MAAM,GAAGvB,UAAU,CAACsB,QAAQ,CAAC,CAAC,eAAe,CAAC;MAClD,IAAIE,IAAI,GAAKtB,MAAM,CAACC,OAAO,CAACS,KAAK,CAACc,SAAS,CAACJ,QAAQ,CAAC,CAAC;MACtDK,QAAQ,IAAIL,QAAQ,GAAG,GAAG,GAAGC,MAAM,GAAG,GAAG,GAAGC,IAAI,GAAG,IAAI;IACzD;EACF;EAEA,OAAOG,QAAQ,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC9B,CAAC;AAGD1B,MAAM,CAACC,OAAO,CAAC0B,gBAAgB,GAAG,UAAUC,OAAO,EAAEC,KAAK,EAAE;EAC1D,IAAIC,aAAa,GAAIF,OAAO,CAACvB,MAAM,GAAGwB,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAIA,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;EAC1E,OAAO;IACL,UAAU,EAAID,OAAO,CAACxB,SAAS;IAC/B,QAAQ,EAAMyB,KAAK,CAAC,CAAC,CAAC,CAACR,MAAM;IAC7B,QAAQ,EAAMrB,MAAM,CAACC,OAAO,CAACS,KAAK,CAACoB,aAAa;EAAE,CAAC;AACtD,CAAC;AAED9B,MAAM,CAACC,OAAO,CAAC8B,oBAAoB,GAAG,UAAUH,OAAO,EAAEC,KAAK,EAAE;EAC/D,OAAO7B,MAAM,CAACC,OAAO,CAACS,KAAK,CAAI,CAAC,GAACmB,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAIA,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAG,CAAC;AACzE,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}